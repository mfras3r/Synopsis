@{
	Layout = null;
}

<!DOCTYPE html>

<html lang="en" ng-app="synopsis">
<head>
	<meta name="viewport" content="width=device-width" />
	<title>Synopsis</title>
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css" />
	<link rel="stylesheet" href="/css/synopsis.css"/>
</head>
<body>
<div class="container" ng-controller="SynopsisController">
	<section class="url-form row">
		<div class="col-xs-12">
			<form name="urlForm" ng-submit="request(urlForm.$valid)">
				<label for="url">Synopsis URL:</label>
				<div class="input-group">
					<input id="url" type="text" class="form-control" placeholder="URL of the web page to summarize" ng-model="url" required />
					<span class="input-group-addon" ng-show="loading">
						<img src="/img/spinner.gif" alt="Loading..."/>
					</span>
					<div class="input-group-btn">
						<button type="submit" class="btn btn-default" aria-label="Search">
							<span class="glyphicon glyphicon-search" aria-hidden="true"></span>
						</button>
					</div>
				</div>
			</form>
			<div class="alerts">
				<alert ng-repeat="alert in alerts" type="{{alert.type}}" close="closeAlert($index)" class="text-center">
					<span class="glyphicon glyphicon-alert" aria-hidden="true" ng-show="{{alert.type == 'danger'}}"></span>
					<img src="/img/spinner.gif" alt="Loading..." ng-show="{{alert.loading}}" />
					{{alert.msg}}
				</alert>
			</div>
		</div>
	</section>

	<section class="well results" ng-show="showResults">
		<div class="row">
			<div class="top-words col-xs-12 col-sm-6 col-md-3 thumbnail pull-right text-center">
				<h3 ng-show="isWordsEmpty()">No words found...</h3>

				<div ng-hide="isWordsEmpty()">
					<h3 class="hidden-xs hidden-sm">Top {{words.length}} Words</h3>
					<h3 class="visible-xs visible-sm" aria-hidden="True">Top {{words.length}}</h3>
					<table class="table-responsive">
						<tr>
							<td class="col-xs-4"><b>Rank</b></td>
							<td class="col-xs-4"><b>Word</b></td>
							<td class="col-xs-4"><b>Count</b></td>
						</tr>
						
						<tr ng-repeat="word in words">
							<td>{{$index + 1}}</td>
							<td>{{word.word}}</td>
							<td>{{word.count}}</td>
						</tr>
					</table>
				</div>
			</div>

			<div class="col-xs-6 col-sm-3 thumbnail" ng-repeat="imgUrl in images">
				<a href="{{imgUrl}}" target="_blanks">
					<img src="{{imgUrl}}" />
				</a>
				<div class="caption visible-lg">
					<a href="{{imgUrl}}" target="_blanks">{{imgUrl|thumbEllipses}}</a>
				</div>
			</div>
			<div class="col-xs-12 col-sm-6 col-md-9 thumbnail text-center" ng-show="isImagesEmpty()">
				<h2>No images found...</h2>
			</div>
		</div>
	</section>
</div>

<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.3/angular.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/0.13.0/ui-bootstrap-tpls.js"></script>
<script type="text/javascript" src="/js/synopsis.js"></script>
</body>
</html>
